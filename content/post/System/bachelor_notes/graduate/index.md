---
title: 操作系统王道考研 - 笔记
description: "Notes about OS"
slug: OS-Wangdao
date: 2022-01-01 00:00:00+0000
categories:
    - OS
tags:
    - OS
    - CS
weight: 1
---

# 王道

## 操作系统概述

系统软件包括
- 操作系统
- 数据库管理系统
- 语言处理程序
- 服务性程序
- 标准库程序

操作系统管理软硬件资源

操作系统也管理外存，看作I/O

操作系统最基本的特征是并发和共享

- 并发是指若干事件在同一时间间隔内发生
- 并行是指若干事件在同一时刻发生

操作系统想用户提供命令接口和程序接口（系统调用）

程序接口为OS给编程人员提供的接口

批处理：自动作业，主要缺点：缺乏交互性

分时操作系统：处理器时间片很短，RR

实时系统需要抢占+优先级

中断来自外部，异常来自处理器内部错误，统称例外

I/O通道是一种特殊处理器，具有执行I/O指令的能力

中断时操作系统必须提供的功能，错误和切换状态需要中断

广义指令：系统调用指令

过程调用需要保存pc

除数为0和INT中断完成后会跳过当前指令执行

## 进程管理

引入线程后，进程仍然是资源分配的单位，线程时处理器调度和分派的单位，线程本身不具有资源，它可以共享所属进程的全部资源

C语言程序正文段包括代码和赋值数据段

同一个系统进程或线程可以通过系统调用的方法，被不同的进程或线程使用，因此系统动态DLL库中的系统线程被不同进程调用时仍为同一个的线程

只有从运行状态到阻塞状态的转换时由进程自身决定的
从阻塞到就绪状态由协作进程决定

对进程的管理和控制是有原语实现的

键盘输入可以只由一个线程监听

- 管程实际上是一种固定大小的缓冲区，管程对其两端的进程而言就是一个文件，但它不是普通的文件，而是指存在于内存中的单独文件系统
- 类似于通信中半双工信道，管道可以实现双向传输，但同一时刻只能最多有一个方向的传输
	- 管道满时，写管道被阻塞；
	- 管道空时，读管道被阻塞；
- 管道容量通常为内存上一页。

响应比：

$$R_{p} = \frac{等待时间+要求服务时间}{要求服务时间}$$

中断向量本身是中断服务程序例行入口

进程处于临界区依然可以调度，只要不破坏规则

高响应比优先策略也不会导致饥饿，长作业任务随之等待时间增加调度机会增加

先到先服务(FCFS)有利于长作业不利于段作业，因此CPU繁忙型比I/O繁忙型更优先

优先级算法中I/O繁忙型作业优先级高于计算繁忙型

动态优先权中，随着进程执行时间++优先权--

时间片轮转算法，时间片过大时可认为大于任务时间，相当于FCFS算法

